% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/feat_rolling.R
\name{feat_rolling_dt}
\alias{feat_rolling_dt}
\title{Add Rolling Window Statistics}
\usage{
feat_rolling_dt(
  df,
  date,
  target,
  groups = NULL,
  windows = c(7, 28),
  stats = c("sum", "sd", "min", "max"),
  trend_windows = NULL
)
}
\arguments{
\item{df}{A data frame containing time series data}

\item{date}{Symbol or character naming the date column}

\item{target}{Symbol or character naming the target variable column}

\item{groups}{Character vector naming grouping columns}

\item{windows}{Integer vector of window sizes for rolling statistics (e.g., c(7, 28, 90))}

\item{stats}{Character vector specifying which statistics to compute:
"sum", "sd", "min", "max"}

\item{trend_windows}{Integer vector of window sizes for rolling linear trend slopes}
}
\value{
Data frame with rolling statistic features added
}
\description{
Compute rolling window statistics (sum, standard deviation, min, max) and
rolling trend slopes for the target variable. All statistics are computed
within groups if specified.
}
\details{
Rolling statistics use right-aligned windows (including current observation).
Trend slopes are computed by fitting y ~ x within each window.
Missing values are handled with na.rm = TRUE for statistics.
}
\examples{
\dontrun{
# Add 7-day and 28-day rolling statistics
df_roll <- feat_rolling_dt(df, date = date, target = sales,
                            groups = "store_id",
                            windows = c(7, 28),
                            stats = c("sum", "sd", "min", "max"))

# Add rolling trend slopes
df_roll <- feat_rolling_dt(df, date = date, target = sales,
                            groups = "store_id",
                            windows = c(7, 28),
                            stats = "sum",
                            trend_windows = c(7, 14))
}
}
