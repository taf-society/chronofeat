% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{forecast_iterative_cpp}
\alias{forecast_iterative_cpp}
\title{Fast recursive forecasting with batched predictions}
\usage{
forecast_iterative_cpp(
  y_hist,
  h,
  predict_fn,
  p = NULL,
  q = NULL,
  roll_windows = NULL,
  roll_stats = NULL,
  trend_windows = NULL,
  trend_degrees = NULL,
  batch_size = -1L
)
}
\arguments{
\item{y_hist}{Numeric vector of historical target values}

\item{h}{Integer, forecast horizon}

\item{predict_fn}{R function that takes a numeric matrix and returns predictions}

\item{p}{Integer vector of specific lag indices (e.g., c(1, 4, 6, 12))}

\item{q}{Integer vector of MA windows}

\item{roll_windows}{Integer vector of rolling stat windows}

\item{roll_stats}{Character vector of stats to compute}

\item{trend_windows}{Integer vector for rolling slopes}

\item{trend_degrees}{Integer vector for polynomial trends}

\item{batch_size}{Integer, number of steps to predict at once (default: h for full batch)}
}
\value{
Numeric vector of forecasts
}
\description{
Model-agnostic optimizer - batches predictions to minimize R call overhead.
Uses adaptive batching: builds features for multiple steps, predicts in batch,
updates history, repeats. Much faster than per-step prediction.
}
