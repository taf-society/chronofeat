% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/forecast.R
\name{.prepare_feature_row}
\alias{.prepare_feature_row}
\title{Prepare Single Prediction Row}
\usage{
.prepare_feature_row(
  y_hist,
  next_date,
  target_col,
  p = NULL,
  q = NULL,
  roll_windows = NULL,
  roll_stats = c("sum", "sd", "min", "max"),
  trend_windows = NULL,
  trend_degrees = NULL,
  CAL_row = NULL,
  XF_row = NULL,
  groups_chr = NULL,
  date_col = "date"
)
}
\arguments{
\item{y_hist}{Numeric vector of historical target values}

\item{next_date}{Date for this forecast step (used for calendar/xreg lookup)}

\item{target_col}{Character, name of target column}

\item{p}{Integer, number of lags (NULL if none)}

\item{q}{Integer vector of MA windows (NULL if none)}

\item{roll_windows}{Integer vector of rolling stat windows (NULL if none)}

\item{roll_stats}{Character vector of rolling statistics to compute}

\item{trend_windows}{Integer vector for trend slopes (NULL if none)}

\item{trend_degrees}{Integer vector for polynomial trends (NULL if none)}

\item{CAL_row}{Single-row tibble of calendar features for this date (NULL if none)}

\item{XF_row}{Single-row tibble of xreg features for this date (NULL if none)}

\item{groups_chr}{Character vector of group column names (NULL if ungrouped)}

\item{date_col}{Character, name of date column}
}
\value{
Single-row tibble with all features
}
\description{
Assembles features for a single forecast step by combining target-based features
(lags, MAs, rolling stats) with calendar and exogenous variable features.
}
\keyword{internal}
